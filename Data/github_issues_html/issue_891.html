
        <html>
        <head>
            <title>Issue #891: powersave is on, but governer locked on performance - logs: NotImplementedError: can't find current frequency file</title>
        </head>
        <body>
            <h1>powersave is on, but governer locked on performance - logs: NotImplementedError: can't find current frequency file</h1>
            <p><strong>Issue #891</strong></p>
            <div>
                <h2>Description</h2>
                <p>### Summary
powersave is on, but governer locked on performance - logs: NotImplementedError: can't find current frequency file

<img width="3636" height="2085" alt="Image" src="https://github.com/user-attachments/assets/fb476a9e-6eb8-4a7d-afff-accf8deab3ce" />

Clicking "about" in auto cpufreq menu, results in nothing happening.


### Error output:
```text
systemctl status auto-cpufreq.service
● auto-cpufreq.service - auto-cpufreq - Automatic CPU speed & power optimizer for Linux
     Loaded: loaded (/usr/lib/systemd/system/auto-cpufreq.service; enabled; preset: disabled)
     Active: active (running) since Thu 2025-10-23 20:55:42 PDT; 13h ago
 Invocation: edd183be68214c91a6fca5f31108f0a9
   Main PID: 796 (auto-cpufreq)
      Tasks: 2 (limit: 37925)
     Memory: 82.6M (peak: 88M)
        CPU: 1min 11.999s
     CGroup: /system.slice/auto-cpufreq.service
             └─796 /usr/bin/python /usr/bin/auto-cpufreq --daemon

Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/modules/system_info.py", line 179, in avg_temp
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     temps: List[float] = [i.temperature for i in SystemInfo.get_cpu_info()]
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:                                                  ~~~~~~~~~~~~~~~~~~~~~~~^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/modules/system_info.py", line 104, in get_cpu_info
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     cpu_freqs = psutil.cpu_freq(percpu=True)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/psutil/__init__.py", line 1913, in cpu_freq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     ret = _psplatform.cpu_freq()
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/psutil/_pslinux.py", line 721, in cpu_freq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     raise NotImplementedError(msg)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]: NotImplementedError: can't find current frequency file


journalctl -u auto-cpufreq.service --no-pager -b
Oct 23 20:55:42 gaia-two systemd[1]: Started auto-cpufreq - Automatic CPU speed & power optimizer for Linux.
Oct 23 21:29:20 gaia-two auto-cpufreq[796]: Traceback (most recent call last):
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/bin/auto-cpufreq", line 8, in <module>
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     sys.exit(main())
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:              ~~~~^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/click/core.py", line 1442, in __call__
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     return self.main(*args, **kwargs)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:            ~~~~~~~~~^^^^^^^^^^^^^^^^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/click/core.py", line 1363, in main
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     rv = self.invoke(ctx)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/click/core.py", line 1226, in invoke
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     return ctx.invoke(self.callback, **ctx.params)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:            ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/click/core.py", line 794, in invoke
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     return callback(*args, **kwargs)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/bin/auto_cpufreq.py", line 147, in main
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     set_autofreq()
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     ~~~~~~~~~~~~^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/core.py", line 767, in set_autofreq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     elif override == "performance": set_performance()
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:                                     ~~~~~~~~~~~~~~~^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/core.py", line 690, in set_performance
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     elif SystemInfo.avg_temp() >= 70: # set turbo state based on average of all core temperatures
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:          ~~~~~~~~~~~~~~~~~~~^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/modules/system_info.py", line 179, in avg_temp
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     temps: List[float] = [i.temperature for i in SystemInfo.get_cpu_info()]
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:                                                  ~~~~~~~~~~~~~~~~~~~~~~~^^
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/auto_cpufreq/modules/system_info.py", line 104, in get_cpu_info
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     cpu_freqs = psutil.cpu_freq(percpu=True)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/psutil/__init__.py", line 1913, in cpu_freq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     ret = _psplatform.cpu_freq()
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/psutil/_pslinux.py", line 721, in cpu_freq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     raise NotImplementedError(msg)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]: NotImplementedError: can't find current frequency file
```
---

### System information:

Add/paste output of:

```
sudo auto-cpufreq --debug

-------------------------------- Battery Info ---------------------------------

battery count = 1
BAT0 start threshold = b'0\n'
BAT0 stop threshold = b'100\n'

-------------------------------------------------------------------------------

Linux distro: Arch Linux rolling n/a
Linux kernel: 6.15.9-arch1-1
Processor: 12th Gen Intel(R) Core(TM) i7-1270P
Cores: 16
Architecture: x86_64
Driver: intel_pstate

------------------------------ Current CPU stats ------------------------------

CPU max frequency: 4800 MHz
CPU min frequency: 400 MHz

Core	Usage	Temperature	Frequency
CPU0      2.0%        54 °C      4322 MHz
CPU1      0.0%        54 °C      1024 MHz
CPU2      0.0%        47 °C      2945 MHz
CPU3      0.0%        47 °C      1914 MHz
CPU4      1.0%        51 °C       400 MHz
CPU5      0.0%        51 °C       400 MHz
CPU6      0.0%        42 °C      4042 MHz
CPU7      0.0%        42 °C      1897 MHz
CPU8      1.0%        46 °C      2140 MHz
CPU9      0.0%        46 °C       400 MHz
CPU10      1.0%        46 °C       728 MHz
CPU11      0.0%        46 °C       400 MHz
CPU12      0.0%        45 °C      2275 MHz
CPU13      0.0%        45 °C       400 MHz
CPU14      0.0%        45 °C       400 MHz
CPU15      0.0%        45 °C       400 MHz

CPU fan speed: 0 RPM

CPU fan speed: 4974 RPM

auto-cpufreq version: Version         : 2.6.0-2

Python: 3.13.5
psutil package: 7.0.0
platform package: 1.0.8
click package: 8.2.1
distro package: 1.9.0

Computer type: Convertible
Battery is: discharging

auto-cpufreq system resource consumption:
cpu usage: 0.0 %
memory use: 0.14 %

Total CPU usage: 0.7 %
Total system load: 0.66
Average temp. of all cores: 46.00 °C 

Currently using: performance governor
Currently turbo boost is: on

-------------------------------------------------------------------------------
```

Also please be descriptive about the issue you're reporting, i.e: what you tried & what's the expected behaviour.

---
</p>
            </div>
            <div>
                <h2>Comments</h2>
        
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p><img width="3840" height="1809" alt="Image" src="https://github.com/user-attachments/assets/91fb3555-423a-43bc-aa14-2fa101f5b05e" />
</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>```text
sudo systemctl stop auto-cpufreq


sudo systemctl status auto-cpufreq
○ auto-cpufreq.service - auto-cpufreq - Automatic CPU speed & power optimizer for Linux
     Loaded: loaded (/usr/lib/systemd/system/auto-cpufreq.service; enabled; preset: disabled)
     Active: inactive (dead) since Fri 2025-10-24 10:36:58 PDT; 10s ago
   Duration: 13h 41min 16.052s
 Invocation: edd183be68214c91a6fca5f31108f0a9
    Process: 796 ExecStart=auto-cpufreq --daemon (code=killed, signal=TERM)
   Main PID: 796 (code=killed, signal=TERM)
   Mem peak: 88M
        CPU: 1min 12.003s

Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     cpu_freqs = psutil.cpu_freq(percpu=True)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/psutil/__init__.py", line 1913, in cpu_freq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     ret = _psplatform.cpu_freq()
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:   File "/usr/lib/python3.13/site-packages/psutil/_pslinux.py", line 721, in cpu_freq
Oct 23 21:29:20 gaia-two auto-cpufreq[796]:     raise NotImplementedError(msg)
Oct 23 21:29:20 gaia-two auto-cpufreq[796]: NotImplementedError: can't find current frequency file
Oct 24 10:36:58 gaia-two systemd[1]: Stopping auto-cpufreq - Automatic CPU speed & power optimizer for Linux...
Oct 24 10:36:58 gaia-two systemd[1]: auto-cpufreq.service: Deactivated successfully.
Oct 24 10:36:58 gaia-two systemd[1]: Stopped auto-cpufreq - Automatic CPU speed & power optimizer for Linux.
Oct 24 10:36:58 gaia-two systemd[1]: auto-cpufreq.service: Consumed 1min 12.003s CPU time, 88M memory peak.
```
```text
sudo auto-cpufreq --install

--------------------- Deploying auto-cpufreq as a daemon ----------------------

* Turn off Bluetooth on boot (only)!
  If you want bluetooth enabled on boot run: auto-cpufreq --bluetooth_boot_on

* Deploy auto-cpufreq install script

* Deploy auto-cpufreq remove script
There was a problem, couldn't determine GNOME Power Profiles Daemon

────────────────────────────────────────────────── Running auto-cpufreq daemon install script ──────────────────────────────────────────────────

Deploying auto-cpufreq systemd unit file
cp: cannot stat '/usr/local/share/auto-cpufreq/scripts/auto-cpufreq.service': No such file or directory

* Reloading systemd manager configuration

* Starting auto-cpufreq daemon (systemd) service

* Enabling auto-cpufreq daemon (systemd) at boot

----------------- auto-cpufreq daemon installed and running -----------------

To view live stats, run:
auto-cpufreq --stats

auto-cpufreq makes all decisions automatically, if you would like to
configure certain setting to your own liking, please refer to:
https://github.com/AdnanHodzic/auto-cpufreq#configuring-auto-cpufreq

To disable and remove auto-cpufreq daemon, run:
sudo auto-cpufreq --remove

-------------------------------------------------------------------------------

```</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>```text

sudo auto-cpufreq --remove

--------------------- Removing auto-cpufreq daemon ----------------------

* Turn on bluetooth on boot

----------------------------------- Warning -----------------------------------

Detected GNOME Power Profiles daemon service is stopped!
This service will now be enabled and started again.

* Enabling GNOME power profiles

Removed '/etc/systemd/system/power-profiles-daemon.service'.
Created symlink '/etc/systemd/system/graphical.target.wants/power-profiles-daemon.service' → '/usr/lib/systemd/system/power-profiles-daemon.service'.

────────────────────────────────────────────────── Running auto-cpufreq daemon removal script ──────────────────────────────────────────────────


* Stopping auto-cpufreq daemon (systemd) service

* Disabling auto-cpufreq daemon (systemd) at boot
Removed '/etc/systemd/system/multi-user.target.wants/auto-cpufreq.service'.

* Removing auto-cpufreq daemon (systemd) unit file
rm: cannot remove '/etc/systemd/system/auto-cpufreq.service': No such file or directory

* Reloading systemd manager configuration
reset failed

------------------------- auto-cpufreq daemon removed -------------------------

auto-cpufreq successfully removed.

-------------------------------------------------------------------------------
```
```text
sudo auto-cpufreq --install

--------------------- Deploying auto-cpufreq as a daemon ----------------------

* Turn off Bluetooth on boot (only)!
  If you want bluetooth enabled on boot run: auto-cpufreq --bluetooth_boot_on

* Deploy auto-cpufreq install script

* Deploy auto-cpufreq remove script

----------------------------------- Warning -----------------------------------

Detected running GNOME Power Profiles daemon service!

This daemon might interfere with auto-cpufreq and has been disabled.

This daemon is not automatically disabled in "monitor" mode and
will be enabled after auto-cpufreq daemon is removed.
auto-cpufreq snap package installed, GNOME Power Profiles Daemon should be disabled.

Using profile:  balanced

* Disabling GNOME power profiles
Removed '/etc/systemd/system/graphical.target.wants/power-profiles-daemon.service'.
Created symlink '/etc/systemd/system/power-profiles-daemon.service' → '/dev/null'.

────────────────────────────────────────────────── Running auto-cpufreq daemon install script ──────────────────────────────────────────────────

Deploying auto-cpufreq systemd unit file
cp: cannot stat '/usr/local/share/auto-cpufreq/scripts/auto-cpufreq.service': No such file or directory

* Reloading systemd manager configuration

* Starting auto-cpufreq daemon (systemd) service

* Enabling auto-cpufreq daemon (systemd) at boot
Created symlink '/etc/systemd/system/multi-user.target.wants/auto-cpufreq.service' → '/usr/lib/systemd/system/auto-cpufreq.service'.

----------------- auto-cpufreq daemon installed and running -----------------

To view live stats, run:
auto-cpufreq --stats

auto-cpufreq makes all decisions automatically, if you would like to
configure certain setting to your own liking, please refer to:
https://github.com/AdnanHodzic/auto-cpufreq#configuring-auto-cpufreq

To disable and remove auto-cpufreq daemon, run:
sudo auto-cpufreq --remove

-------------------------------------------------------------------------------

```

</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>No errors in logs now, but GUI is showing changes when toggling powersave vs performance now. Clicking about still doesn't work but that is a nit. 

```text

systemctl status auto-cpufreq.service
● auto-cpufreq.service - auto-cpufreq - Automatic CPU speed & power optimizer for Linux
     Loaded: loaded (/usr/lib/systemd/system/auto-cpufreq.service; enabled; preset: disabled)
     Active: active (running) since Fri 2025-10-24 10:39:38 PDT; 35s ago
 Invocation: 2af8cfc11762462885588e97c094c618
   Main PID: 164055 (auto-cpufreq)
      Tasks: 2 (limit: 37925)
     Memory: 27.8M (peak: 32.9M)
        CPU: 2.240s
     CGroup: /system.slice/auto-cpufreq.service
             └─164055 /usr/bin/python /usr/bin/auto-cpufreq --daemon

Oct 24 10:39:38 gaia-two systemd[1]: Started auto-cpufreq - Automatic CPU speed & power optimizer for Linux.
```</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>still seems to be a discrepency in --live vs GUI though

<img width="3723" height="2313" alt="Image" src="https://github.com/user-attachments/assets/ec739a9d-a383-4c57-8207-7a3fb29f4c42" />

<img width="3810" height="1530" alt="Image" src="https://github.com/user-attachments/assets/290c71dd-2573-4590-b37e-4cc4eb22b76a" />

</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>AdnanHodzic:</strong></p>
                    <p>Reason for discrepancy between CLI & GUI has been [answered here](https://github.com/AdnanHodzic/auto-cpufreq/issues/837#issuecomment-3419230226) in #837 </p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>Thank you Adnan, I'll try to just use the CLI for now then. 
 </p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>Also, now I am getting: `/usr/bin/cpufreqctl.auto-cpufreq: line 99: echo: write error: Device or resource busy` which I think is in
* https://github.com/AdnanHodzic/auto-cpufreq/issues/842
</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>Should mention that I am using the AUR package here: https://aur.archlinux.org/packages/auto-cpufreq</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>ElijahLynn:</strong></p>
                    <p>hrm, maybe another clue:

```
sudo auto-cpufreq --live
[sudo] password for elijah: 
Failed to start power-profiles-daemon.service: Unit power-profiles-daemon.service is masked.
```

edit: 
* https://github.com/AdnanHodzic/auto-cpufreq/issues/417</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>AdnanHodzic:</strong></p>
                    <p>> Should mention that I am using the AUR package here: https://aur.archlinux.org/packages/auto-cpufreq

But now I see you're one of the [auto-cpufreq AUR package maintaners?](https://github.com/AdnanHodzic/auto-cpufreq?tab=readme-ov-file#aur-package-arch-based-distributions). Maybe rest of the maintainers can help her @MusicalArtist12, @parmjotsinghrobot 

</p>
                </div>
            
            </div>
        </body>
        </html>
        