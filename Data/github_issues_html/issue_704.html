
        <html>
        <head>
            <title>Issue #704: [ NixOS ] /bin/sh: line 1: getent: command not found</title>
        </head>
        <body>
            <h1>[ NixOS ] /bin/sh: line 1: getent: command not found</h1>
            <p><strong>Issue #704</strong></p>
            <div>
                <h2>Description</h2>
                <p>### Fill out information requested in this template, without doing so issue will be ignored & closed!

### Have you tried?

- [Searching through existing/closed issues](https://github.com/AdnanHodzic/auto-cpufreq/issues) to see if your bug has already been already submitted? 
- If installation failed with [auto-cpufreq-installer](https://github.com/AdnanHodzic/auto-cpufreq/#auto-cpufreq-installer),have you tried installing auto-cpufreq using [Snap package](https://github.com/AdnanHodzic/auto-cpufreq/#snap-store)?
- Have you tried [configuring auto-cpufreq](https://github.com/AdnanHodzic/auto-cpufreq/#configuring-auto-cpufreq)?
- Have you tried suggestions in [troubleshooting section](https://github.com/AdnanHodzic/auto-cpufreq#troubleshooting)?

### Error output:
```text
~ λ sudo systemctl status auto-cpufreq.service
○ auto-cpufreq.service - auto-cpufreq - Automatic CPU speed & power optimizer for Linux
     Loaded: loaded (/etc/systemd/system/auto-cpufreq.service; enabled; preset: enabled)
    Drop-In: /nix/store/549g9sd8n3szpy9k39vj37s1pddzvbr7-system-units/auto-cpufreq.service.d
             └─overrides.conf
     Active: inactive (dead) since Sat 2024-05-18 20:04:15 -03; 2min 44s ago
   Duration: 7.262s
    Process: 1499 ExecStart=/nix/store/r0sz3fq2rxbpcs6yr5xqq49qx46bbmnj-python3.11-auto-cpufreq-2.3.0/bin/auto-cpufreq --daemon --config /nix/store/f7wyadp76x800aibi6005jayc28awair-auto-cpufreq.conf (co>
   Main PID: 1499 (code=killed, signal=TERM)
         IP: 0B in, 0B out
        CPU: 304ms

May 18 20:04:08 perrrkele systemd[1]: Started auto-cpufreq - Automatic CPU speed & power optimizer for Linux.
May 18 20:04:08 perrrkele auto-cpufreq[1512]: /nix/store/h3bhzvz9ipglcybbcvkxvm4vg9lwvqg4-bash-5.2p26/bin/sh: line 1: getent: command not found
May 18 20:04:15 perrrkele systemd[1]: Stopping auto-cpufreq - Automatic CPU speed & power optimizer for Linux...
May 18 20:04:15 perrrkele systemd[1]: auto-cpufreq.service: Deactivated successfully.
May 18 20:04:15 perrrkele systemd[1]: Stopped auto-cpufreq - Automatic CPU speed & power optimizer for Linux.
```
---

### System information:

Add/paste output of:

```
-------------------------------------------------------------------------------

Linux distro: NixOS 24.05 Uakari
Linux kernel: 6.9.1
Processor: 11th Gen Intel(R) Core(TM) i7-11370H @ 3.30GHz
Cores: 8
Architecture: x86_64
Driver: acpi-cpufreq

------------------------------ Current CPU stats ------------------------------

CPU max frequency: 3201 MHz
CPU min frequency: 400 MHz

Core    Usage   Temperature     Frequency
CPU0      9.9%        53 °C      4300 MHz
CPU1      2.0%        43 °C      2973 MHz
CPU2      1.0%        44 °C      3925 MHz
CPU3      3.0%        44 °C      4309 MHz
CPU4      4.9%        53 °C      4300 MHz
CPU5      4.1%        43 °C       817 MHz
CPU6      3.9%        44 °C      4300 MHz
CPU7      5.0%        44 °C      4300 MHz

auto-cpufreq version: 2.3.0 (git: )

Python: 3.11.9
psutil package: 5.9.8
platform package: 1.0.8
click package: 8.1.7
distro package: 1.9.0

Computer type: Notebook
Battery is: charging

auto-cpufreq system resource consumption:
cpu usage: 0.0 %
memory use: 0.21 %

Total CPU usage: 3.4 %
Total system load: 0.75
Average temp. of all cores: 46.00 °C 

Currently using: performance governor
Currently turbo boost is: on
-------------------------------------------------------------------------------
```

Hi,

I see the error when using the flake, from the `master` branch; it seems to me `pkgs.getent` needs to be added to `default.nix`.

Thanks

---
</p>
            </div>
            <div>
                <h2>Comments</h2>
        
            </div>
        </body>
        </html>
        