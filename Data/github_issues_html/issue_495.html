
        <html>
        <head>
            <title>Issue #495: auto cpu-freq fails to install despite using git based installer </title>
        </head>
        <body>
            <h1>auto cpu-freq fails to install despite using git based installer </h1>
            <p><strong>Issue #495</strong></p>
            <div>
                <h2>Description</h2>
                <p>Running- Opensuse tumbleweed 
kernel v6.2.4-1
installed it using the git clone method though i get the installed successfully prompt yet
using the command sudo auto-cpufreq --install 
results in this
 > sudo auto-cpufreq --install
[sudo] password for root: 
sudo: auto-cpufreq: command not found




This is the ouput i get whilst installing it 






zerotwo@localhost:~/auto-cpufreq/auto-cpufreq/auto-cpufreq> git clone https://github.com/AdnanHodzic/auto-cpufreq.git
Cloning into 'auto-cpufreq'...
remote: Enumerating objects: 1805, done.
remote: Counting objects: 100% (518/518), done.
remote: Compressing objects: 100% (195/195), done.
remote: Total 1805 (delta 393), reused 362 (delta 312), pack-reused 1287
Receiving objects: 100% (1805/1805), 375.54 KiB | 412.00 KiB/s, done.
Resolving deltas: 100% (937/937), done.
zerotwo@localhost:~/auto-cpufreq/auto-cpufreq/auto-cpufreq> cd auto-cpufreq && sudo ./auto-cpufreq-installer
───────────────────────────────────────────────────────────────────────────── auto-cpufreq installer ─────────────────────────────────────────────────────────────────────────────

Welcome to auto-cpufreq tool installer.
  			
Options:

[I]nstall
[R]emove
[Q]uit

Select a key: [i/r/q]: i


──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────



──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────


Didn't detect Debian or RedHat based distro.

To complete installation, you need to:
Install: python3, pip3, python3-setuptools

Install necessary Python packages:
pip3 install psutil click distro power
Run following sequence of lines:

-----

python3 setup.py install --record files.txt
mkdir -p /usr/local/share/auto-cpufreq/
cp -r scripts/ /usr/local/share/auto-cpufreq/

-----

After which tool is installed, for full list of options run:

  	auto-cpufreq


──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────


  Consider creating a feature request to add support for your distro:
  https://github.com/AdnanHodzic/auto-cpufreq/issues/new

  Make sure to include following information:

  Distribution: openSUSE
  Release: 20230316
  Codename: n/a


──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────


Installing necessary Python packages

Requirement already satisfied: pip in /opt/auto-cpufreq/venv/lib/python3.10/site-packages (23.0.1)
Requirement already satisfied: wheel in /opt/auto-cpufreq/venv/lib/python3.10/site-packages (0.40.0)
Requirement already satisfied: setuptools in /opt/auto-cpufreq/venv/lib/python3.10/site-packages (from -r requirements.txt (line 1)) (65.5.0)
Requirement already satisfied: psutil in /opt/auto-cpufreq/venv/lib/python3.10/site-packages (from -r requirements.txt (line 2)) (5.9.4)
Requirement already satisfied: click in /opt/auto-cpufreq/venv/lib/python3.10/site-packages (from -r requirements.txt (line 3)) (8.1.3)
Requirement already satisfied: distro in /opt/auto-cpufreq/venv/lib/python3.10/site-packages (from -r requirements.txt (line 4)) (1.8.0)


──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────


installing auto-cpufreq tool

/opt/auto-cpufreq/venv/lib64/python3.10/site-packages/setuptools/installer.py:27: SetuptoolsDeprecationWarning: setuptools.installer is deprecated. Requirements should be satisfied by a PEP 517 installer.
  warnings.warn(
running install
/opt/auto-cpufreq/venv/lib64/python3.10/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(
/opt/auto-cpufreq/venv/lib64/python3.10/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(
running bdist_egg
running egg_info
creating auto_cpufreq.egg-info
writing auto_cpufreq.egg-info/PKG-INFO
writing dependency_links to auto_cpufreq.egg-info/dependency_links.txt
writing requirements to auto_cpufreq.egg-info/requires.txt
writing top-level names to auto_cpufreq.egg-info/top_level.txt
writing manifest file 'auto_cpufreq.egg-info/SOURCES.txt'
reading manifest file 'auto_cpufreq.egg-info/SOURCES.txt'
adding license file 'LICENSE'
writing manifest file 'auto_cpufreq.egg-info/SOURCES.txt'
installing library code to build/bdist.linux-x86_64/egg
running install_lib
running build_py
creating build
creating build/lib
creating build/lib/auto_cpufreq
copying auto_cpufreq/__init__.py -> build/lib/auto_cpufreq
copying auto_cpufreq/core.py -> build/lib/auto_cpufreq
copying auto_cpufreq/power_helper.py -> build/lib/auto_cpufreq
copying auto_cpufreq/tlp_stat_parser.py -> build/lib/auto_cpufreq
creating build/bdist.linux-x86_64
creating build/bdist.linux-x86_64/egg
creating build/bdist.linux-x86_64/egg/auto_cpufreq
copying build/lib/auto_cpufreq/__init__.py -> build/bdist.linux-x86_64/egg/auto_cpufreq
copying build/lib/auto_cpufreq/core.py -> build/bdist.linux-x86_64/egg/auto_cpufreq
copying build/lib/auto_cpufreq/power_helper.py -> build/bdist.linux-x86_64/egg/auto_cpufreq
copying build/lib/auto_cpufreq/tlp_stat_parser.py -> build/bdist.linux-x86_64/egg/auto_cpufreq
byte-compiling build/bdist.linux-x86_64/egg/auto_cpufreq/__init__.py to __init__.cpython-310.pyc
byte-compiling build/bdist.linux-x86_64/egg/auto_cpufreq/core.py to core.cpython-310.pyc
byte-compiling build/bdist.linux-x86_64/egg/auto_cpufreq/power_helper.py to power_helper.cpython-310.pyc
byte-compiling build/bdist.linux-x86_64/egg/auto_cpufreq/tlp_stat_parser.py to tlp_stat_parser.cpython-310.pyc
creating build/bdist.linux-x86_64/egg/EGG-INFO
installing scripts to build/bdist.linux-x86_64/egg/EGG-INFO/scripts
running install_scripts
running build_scripts
creating build/scripts-3.10
copying and adjusting bin/auto-cpufreq -> build/scripts-3.10
changing mode of build/scripts-3.10/auto-cpufreq from 644 to 755
creating build/bdist.linux-x86_64/egg/EGG-INFO/scripts
copying build/scripts-3.10/auto-cpufreq -> build/bdist.linux-x86_64/egg/EGG-INFO/scripts
changing mode of build/bdist.linux-x86_64/egg/EGG-INFO/scripts/auto-cpufreq to 755
copying auto_cpufreq.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO
copying auto_cpufreq.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO
copying auto_cpufreq.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO
copying auto_cpufreq.egg-info/requires.txt -> build/bdist.linux-x86_64/egg/EGG-INFO
copying auto_cpufreq.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO
copying auto_cpufreq.egg-info/zip-safe -> build/bdist.linux-x86_64/egg/EGG-INFO
creating dist
creating 'dist/auto_cpufreq-1.9.7+9912f9d8-py3.10.egg' and adding 'build/bdist.linux-x86_64/egg' to it
removing 'build/bdist.linux-x86_64/egg' (and everything under it)
Processing auto_cpufreq-1.9.7+9912f9d8-py3.10.egg
Removing /opt/auto-cpufreq/venv/lib/python3.10/site-packages/auto_cpufreq-1.9.7+9912f9d8-py3.10.egg
Copying auto_cpufreq-1.9.7+9912f9d8-py3.10.egg to /opt/auto-cpufreq/venv/lib/python3.10/site-packages
auto-cpufreq 1.9.7+9912f9d8 is already the active version in easy-install.pth
Installing auto-cpufreq script to /opt/auto-cpufreq/venv/bin

Installed /opt/auto-cpufreq/venv/lib/python3.10/site-packages/auto_cpufreq-1.9.7+9912f9d8-py3.10.egg
Processing dependencies for auto-cpufreq==1.9.7+9912f9d8
Searching for distro==1.8.0
Best match: distro 1.8.0
Adding distro 1.8.0 to easy-install.pth file
Installing distro script to /opt/auto-cpufreq/venv/bin

Using /opt/auto-cpufreq/venv/lib/python3.10/site-packages
Searching for click==8.1.3
Best match: click 8.1.3
Adding click 8.1.3 to easy-install.pth file

Using /opt/auto-cpufreq/venv/lib/python3.10/site-packages
Searching for psutil==5.9.4
Best match: psutil 5.9.4
Adding psutil 5.9.4 to easy-install.pth file

Using /opt/auto-cpufreq/venv/lib/python3.10/site-packages
Searching for setuptools==65.5.0
Best match: setuptools 65.5.0
Adding setuptools 65.5.0 to easy-install.pth file

Using /opt/auto-cpufreq/venv/lib/python3.10/site-packages
Finished processing dependencies for auto-cpufreq==1.9.7+9912f9d8
writing list of installed files to 'files.txt'


──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────


auto-cpufreq tool successfully installed.

For list of options, run:
auto-cpufreq --help"

Weirdly to note is without giving root privileges the commands seem to work 


zerotwo@localhost:~/auto-cpufreq/auto-cpufreq/auto-cpufreq/auto-cpufreq> auto-cpufreq --help
Usage: auto-cpufreq [OPTIONS]

Options:
  --monitor      Monitor and see suggestions for CPU optimizations
  --live         Monitor and make (temp.) suggested CPU optimizations
  --install      Install daemon for (permanent) automatic CPU optimizations
  --remove       Remove daemon for (permanent) automatic CPU optimizations
  --stats        View live stats of CPU optimizations made by daemon
  --force TEXT   Force use of either "powersave" or "performance" governors.
                 Setting to "reset" will go back to normal mode
  --config TEXT  Use config file at defined path
  --debug        Show debug info (include when submitting bugs)
  --version      Show currently installed version
  --donate       Support the project
  --help         Show this message and exit.
</p>
            </div>
            <div>
                <h2>Comments</h2>
        
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>izerotwo:</strong></p>
                    <p>Also to note is the issue seems to be very similar to the one faced by fedora on snap, but the difference is here when not using sudo all seems to be working, and more importantly its the auto installer version.</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>izerotwo:</strong></p>
                    <p>I also tried to install the same using snap version
 and the issue persists on it.</p>
                </div>
            
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                    <p><strong>izerotwo:</strong></p>
                    <p>It appears changing the terminal in its entirety to super user fixes the issue IE su and then installing it works like a charm!</p>
                </div>
            
            </div>
        </body>
        </html>
        