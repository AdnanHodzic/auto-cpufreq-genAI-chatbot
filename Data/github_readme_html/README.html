<h1>auto-cpufreq</h1>

<p><a href="https://github.com/AdnanHodzic/auto-cpufreq/actions/workflows/build-linux.yml"><img src="https://github.com/AdnanHodzic/auto-cpufreq/actions/workflows/build-linux.yml/badge.svg?event=push" alt="Linux Build" /></a>
<a href="https://github.com/AdnanHodzic/auto-cpufreq/actions/workflows/build-nix.yaml"><img src="https://github.com/AdnanHodzic/auto-cpufreq/actions/workflows/build-nix.yaml/badge.svg?event=push" alt="Nix Flake" /></a></p>

<p>Automatic CPU speed &amp; power optimizer for Linux. Actively monitors laptop battery state, CPU usage, CPU temperature, and system load, ultimately allowing you to improve battery life without making any compromises.</p>

<p>For tl;dr folks:</p>

<p><a href="https://www.youtube.com/watch?v=SPGpkZ0AZVU">Youtube: auto-cpufreq v2.0 release &amp; demo of all available features and options</a></p>

<p><a href="https://www.youtube.com/watch?v=QkYRpVEEIlg"><img src="https://img.youtube.com/vi/SPGpkZ0AZVU/0.jpg" alt="" /></a></p>

<p><a href="https://www.youtube.com/watch?v=QkYRpVEEIlg">Youtube: auto-cpufreq - tool demo</a></p>

<p><a href="https://www.youtube.com/watch?v=QkYRpVEEIlg"><img src="https://img.youtube.com/vi/QkYRpVEEIlg/0.jpg" alt="" /></a></p>

<p>If you're having a problem with auto-cpufreq, before (<a href="https://github.com/AdnanHodzic/auto-cpufreq/issues">submitting an issue</a>), it is strongly recommended to use the <strong><a href="https://foolcontrol.org/?p=4903">auto-cpufreq-genAI-chatbot</a></strong> to get an immediate answer to your question.</p>

<p><a href="https://www.youtube.com/watch?v=a-UcwAAXOoc"><img src="https://img.youtube.com/vi/a-UcwAAXOoc/0.jpg" alt="" /></a></p>

<p>Example of auto-cpufreq GUI (available &gt;= v2.0)</p>

<p><img src="https://github.com/user-attachments/assets/9c7715c4-16b7-4a5c-86be-4c390276d9e8" width="480" alt="Example of auto-cpufreq desktop entry (icon)" /></p>

<p>Example of <code>auto-cpufreq --stats</code> CLI output</p>

<p><img src="https://github.com/user-attachments/assets/9c7715c4-16b7-4a5c-86be-4c390276d9e8" width="480" alt="Example of auto-cpufreq desktop entry (icon)"/></p>

<h2>Looking for developers and co-maintainers</h2>

<ul>
<li>If you would like to discuss anything regarding auto-cpufreq or its development, please join the <a href="https://discord.gg/Sjauxtj6kH">auto-cpufreq Discord server!</a></li>
<li>auto-cpufreq is looking for <a href="https://github.com/AdnanHodzic/auto-cpufreq/discussions/312">co-maintainers &amp; open source developers to help shape the future of the project!</a></li>
</ul>

<h2>Index</h2>

<ul>
<li><a href="#why-do-i-need-auto-cpufreq">Why do I need auto-cpufreq?</a>
<ul>
<li><a href="#supported-architectures-and-devices">Supported architectures and devices</a></li>
</ul></li>
<li><a href="#features">Features</a></li>
<li><a href="#installing-auto-cpufreq">Installing auto-cpufreq</a>
<ul>
<li><a href="#auto-cpufreq-installer">auto-cpufreq-installer</a></li>
<li><a href="#snap-store">Snap Store</a></li>
<li><a href="#aur-package-arch-based-distributions">AUR package (Arch based distributions)</a></li>
<li><a href="#nixos">NixOS</a></li>
<li><a href="#installation-development-mode-only">For developers</a></li>
</ul></li>
<li><a href="#post-installation">Post-installation</a></li>
<li><a href="#configuring-auto-cpufreq">Configuring auto-cpufreq</a>
<ul>
<li><a href="#1-power_helperpy-script-snap-package-install-only">1: power_helper.py script (Snap package install only)</a></li>
<li><a href="#2---force-governor-override">2: <code>--force</code> governor override</a></li>
<li><a href="#3-auto-cpufreq-config-file">3: auto-cpufreq config file</a>
<ul>
<li><a href="#example-config-file-contents">Example config file contents</a></li>
</ul></li>
</ul></li>
<li><a href="#how-to-run-auto-cpufreq">How to run auto-cpufreq</a></li>
<li><a href="#auto-cpufreq-modes-and-options">auto-cpufreq modes and options</a>
<ul>
<li><a href="#monitor">monitor</a></li>
<li><a href="#live">live</a></li>
<li><a href="#overriding-governor">overriding governor</a></li>
<li><a href="#install---auto-cpufreq-daemon">Install - auto-cpufreq daemon</a></li>
<li><a href="#update---auto-cpufreq-update">Update - auto-cpufreq update</a></li>
<li><a href="#remove---auto-cpufreq-daemon">Remove - auto-cpufreq daemon</a></li>
<li><a href="#stats">stats</a></li>
</ul></li>
<li><a href="#battery-charging-thresholds">Battery charging thresholds</a>
<ul>
<li><a href="#supported-devices">Supported Devices</a></li>
<li><a href="#battery-config">Battery config</a></li>
<li><a href="#Ignoring-power-supplies">Ignoring power supplies</a></li>
</ul></li>
<li><a href="#troubleshooting">Troubleshooting</a>
<ul>
<li><a href="#aur">AUR</a></li>
</ul></li>
<li><a href="#discussion">Discussion</a></li>
<li><a href="#donate">Donate</a>
<ul>
<li><a href="#financial-donation">Financial donation</a>
<ul>
<li><a href="#paypal">Paypal</a></li>
<li><a href="#bitcoin">BitCoin</a></li>
</ul></li>
<li><a href="#code-contribution">Code contribution</a></li>
</ul></li>
</ul>

<h2>Why do I need auto-cpufreq?</h2>

<p>One of the problems with Linux today on laptops is that the CPU will run in an unoptimized manner which will negatively impact battery life. For example, the CPU may run using the "performance" governor with turbo boost enabled regardless of whether it's plugged into a power outlet or not.</p>

<p>These issues can be mitigated by using tools like <a href="https://itsfoss.com/cpufreq-ubuntu/">indicator-cpufreq</a> or <a href="https://github.com/konkor/cpufreq">cpufreq</a>, but those still require manual action from your side which can be daunting and cumbersome.</p>

<p>Tools like <a href="https://github.com/linrunner/TLP">TLP</a> (which I used for numerous years) can help extend battery life, but may also create their own set of problems, such as losing turbo boost.</p>

<p>Given all of the above, I needed a simple tool that would automatically make CPU frequency-related changes and save battery life, but let the Linux kernel do most of the heavy lifting. That's how auto-cpufreq was born.</p>

<p>Please note: auto-cpufreq aims to replace TLP in terms of functionality, so after you install auto-cpufreq <em>it's recommended to remove TLP</em>. Using both for the same functionality (i.e., to set CPU frequencies) will lead to unwanted results like overheating. Hence, only use <a href="https://github.com/AdnanHodzic/auto-cpufreq/discussions/176">both tools in tandem</a> if you know what you're doing.</p>

<p>One tool/daemon that does not conflict with auto-cpufreq in any way, and is even recommended to have running alongside, is <a href="https://wiki.debian.org/thermald">thermald</a>.</p>

<h4>Supported architectures and devices</h4>

<p>Only devices with an Intel, AMD, or ARM CPU are supported. This tool was developed to improve performance and battery life on laptops, but running it on desktops/servers (to lower power consumption) should also be possible.</p>

<h2>Features</h2>

<ul>
<li>Monitoring
<ul>
<li>Basic system information</li>
<li>CPU frequency (system total &amp; per core)</li>
<li>CPU usage (system total &amp; per core)</li>
<li>CPU temperature (total average &amp; per core)</li>
<li>Battery state</li>
<li>System load</li>
</ul></li>
<li>CPU frequency scaling, governor, and <a href="https://en.wikipedia.org/wiki/Intel_Turbo_Boost">turbo boost</a> management based on
<ul>
<li>Battery state</li>
<li>CPU usage (total &amp; per core)</li>
<li>CPU temperature in combination with CPU utilization/load (to prevent overheating)</li>
<li>System load</li>
</ul></li>
<li>Automatic CPU &amp; power optimization (temporary and persistent)</li>
<li>Settings battery charging thresholds (limited support)</li>
</ul>

<h2>Installing auto-cpufreq</h2>

<h3>auto-cpufreq-installer</h3>

<blockquote>
  <p>As auto-cpufreq relies on git based versioning, users are advised to install <code>auto-cpufreq</code>  using <code>git clone</code> method only. Downloading source code as a zip/from release will emit build error like <a href="https://github.com/AdnanHodzic/auto-cpufreq/issues/623">these</a>.</p>
</blockquote>

<p>Get source code, run installer, and follow on-screen instructions:</p>

<p><code>
git clone https://github.com/AdnanHodzic/auto-cpufreq.git
cd auto-cpufreq &amp;&amp; sudo ./auto-cpufreq-installer
</code></p>

<h3>Snap Store</h3>

<p><em>Please note: while all <a href="https://www.youtube.com/watch?v=SPGpkZ0AZVU&t=295s">auto-cpufreq &gt;= v2.0 CLI functionality</a> will work as intended, <a href="http://foolcontrol.org/wp-content/uploads/2023/10/auto-cpufreq-v2-snap-deprecation-notice.png">the GUI won't be available on Snap package installs</a> due to <a href="https://forum.snapcraft.io/t/pkexec-not-found-python-gtk-gnome-app/36579">Snap package confinement limitations</a>. Hence, please consider installing auto-cpufreq using <a href="#auto-cpufreq-installer">auto-cpufreq-installer</a></em>.</p>

<p>auto-cpufreq is available on the <a href="https://snapcraft.io/auto-cpufreq">Snap Store</a> or via CLI:</p>

<p><code>
sudo snap install auto-cpufreq
</code></p>

<p><strong>Please note:</strong>
- Make sure <a href="https://snapcraft.io/docs/installing-snapd">snapd</a> is installed and <code>snap version</code> is &gt;= 2.44 for <code>auto-cpufreq</code> to fully work due to <a href="https://github.com/snapcore/snapd/pull/8127">recent snapd changes</a>.</p>

<ul>
<li>Fedora users will <a href="https://twitter.com/killyourfm/status/1291697985236144130">encounter the following error</a> due to <code>cgroups v2</code> <a href="https://github.com/snapcore/snapd/pull/7825">being in development</a>. This problem can be resolved by either running <code>sudo snap run auto-cpufreq</code> after the snap installation or by using the <a href="#auto-cpufreq-installer">auto-cpufreq-installer</a> which doesn't have this issue.</li>
</ul>

<h3>AUR package (Arch based distributions)</h3>

<p><a href="https://aur.archlinux.org/packages/auto-cpufreq"><img src="https://repology.org/badge/version-for-repo/aur/auto-cpufreq.svg" alt="AUR package" /></a></p>

<p>The AUR <a href="https://aur.archlinux.org/packages/auto-cpufreq">Release Package</a> is currently being maintained by <a href="https://github.com/MusicalArtist12">MusicalArtist12</a>, <a href="https://github.com/liljaylj">liljaylj</a>, and <a href="https://github.com/parmjotsinghrobot">parmjotsinghrobot</a>. </p>

<p><strong>Notices</strong></p>

<ul>
<li>The <a href="https://aur.archlinux.org/packages/auto-cpufreq-git">Git Package</a> is seperately maintained and was last updated on version 1.9.6. </li>
<li>The build process links to <code>/usr/share/</code> instead of <code>/usr/local/share/</code></li>
<li>The daemon installer provided does not work, instead start the daemon with </li>
</ul>

<p>``` </p>

<h1>systemctl enable --now auto-cpufreq</h1>

<p>``<code>
- The GNOME Power Profiles daemon is [automatically disabled by auto-cpufreq-installer](https://github.com/AdnanHodzic/auto-cpufreq#1-power_helperpy-script-snap-package-install-only) due to it's conflict with auto-cpufreq.service. However, this doesn't happen with AUR installs, which can lead to problems (e.g., [#463](https://github.com/AdnanHodzic/auto-cpufreq/issues/463)) if not masked manually.
  - Open a terminal and run</code>sudo systemctl mask power-profiles-daemon.service<code>(then</code>enable<code>and</code>start` the auto-cpufreq.service if you haven't already).
- The TuneD daemon(enabled by default with Fedora 41) is <a href="https://github.com/AdnanHodzic/auto-cpufreq#1-power_helperpy-script-snap-package-install-only">automatically disabled by auto-cpufreq-installer</a> due to it's conflict with auto-cpufreq.service.</p>

<h3>Gentoo Linux (GURU Repository)</h3>

<p>New versions of auto-cpufreq were recently added to GURU, Gentoo's official community-maintained ebuild repository. The <a href="https://github.com/gentoo-mirror/guru/tree/master/sys-power/auto-cpufreq">ebuild</a> is maintaned by <a href="https://github.com/S41G0N">S41G0N</a> and other <a href="https://bugs.gentoo.org">GURU contributors</a>, who can respond in case of issues.</p>

<p>In order to build auto-cpufreq, it is necessary to add &amp; sync GURU repository first. Adding ~amd64 keyword is also needed to unmask the package.</p>

<p>``` </p>

<h1>echo "sys-power/auto-cpufreq ~amd64" &gt;&gt; /etc/portage/package.accept_keywords</h1>

<h1>eselect repository enable guru</h1>

<h1>emaint sync -r guru</h1>

<h1>emerge --ask auto-cpufreq</h1>

<p>```</p>

<p><strong>Notices</strong></p>

<ul>
<li>The build process links to <code>/usr/share/</code> instead of <code>/usr/local/share/</code></li>
<li>The build works on both systemd/OpenRC systems (both systemd and OpenRC will have a service called auto-cpufreq which can be started automatically)</li>
<li>The daemon installer provided does work, but it is RECOMMENDED to install the daemon with:
``` 
<h1>systemctl enable --now auto-cpufreq</h1></li>
</ul>

<h1>rc-update add auto-cpufreq default &amp;&amp; rc-service auto-cpufreq start</h1>

<p>```</p>

<h3>NixOS</h3>

<p><details>
<summary>Flakes</summary>
<br></p>

<p>This repo contains a flake that exposes a NixOS Module that manages and offers options for auto-cpufreq. To use it, add the flake as an input to your <code>flake.nix</code> file and enable the module:</p>

<p>```nix </p>

<h1>flake.nix</h1>

<p>{</p>

<pre><code>inputs = {
    # ---Snip---
    auto-cpufreq = {
        url = "github:AdnanHodzic/auto-cpufreq";
        inputs.nixpkgs.follows = "nixpkgs";
    };
    # ---Snip---
}

outputs = {nixpkgs, auto-cpufreq, ...} @ inputs: {
    nixosConfigurations.HOSTNAME = nixpkgs.lib.nixosSystem {
        specialArgs = { inherit inputs; };
        modules = [
            ./configuration.nix
            auto-cpufreq.nixosModules.default
        ];
    };
}
</code></pre>

<p>}
<code>
Then you can enable the program in your `configuration.nix` file:
</code>nix</p>

<h1>configuration.nix</h1>

<p>{inputs, pkgs, ...}: {
    # ---Snip---
    programs.auto-cpufreq.enable = true;
    # optionally, you can configure your auto-cpufreq settings, if you have any
    programs.auto-cpufreq.settings = {
    charger = {
      governor = "performance";
      turbo = "auto";
    };</p>

<pre><code>battery = {
  governor = "powersave";
  turbo = "auto";
};
</code></pre>

<p>};
    # ---Snip---
}
```
</details></p>

<p><details>
<summary>Nixpkgs</summary>
<br></p>

<p>There is a nixpkg available, but it is more prone to being outdated, whereas the flake pulls from the latest commit. You can install it in your <code>configuration.nix</code> and enable the system service:
```nix</p>

<h1>configuration.nix</h1>

<h1>---Snip---</h1>

<p>environment.systemPackages = with pkgs; [
    auto-cpufreq
];</p>

<p>services.auto-cpufreq.enable = true;</p>

<h1>---Snip---</h1>

<p>```
</details></p>

<h3>Installation (development mode only)</h3>

<ul>
<li><p>If you have <code>poetry</code> installed:
<code>bash
git clone https://github.com/AdnanHodzic/auto-cpufreq.git
cd auto-cpufreq
poetry install
poetry run auto-cpufreq --help
</code></p></li>
<li><p>Alternatively, we can use an editable pip install for development purposes:
```bash
git clone https://github.com/AdnanHodzic/auto-cpufreq.git
cd auto-cpufreq</p>

<h1>set up virtual environment (details removed for brevity)</h1>

<p>pip3 install -e .
auto-cpufreq
```</p></li>
<li>Regularly run <code>poetry update</code> if you get any inconsistent lock file issues.</li>
</ul>

<h2>Post-installation</h2>

<p>After installation, <code>auto-cpufreq</code> is available as a binary. Refer to <a href="https://github.com/AdnanHodzic/auto-cpufreq#auto-cpufreq-modes-and-options">auto-cpufreq modes and options</a> for detailed information on how to run and configure <code>auto-cpufreq</code>.</p>

<h2>Configuring auto-cpufreq</h2>

<p>auto-cpufreq makes all decisions automatically based on various factors such as CPU usage, temperature, and system load. However, it's possible to perform additional configurations:</p>

<h3>1: power_helper.py script (Snap package install <strong>only</strong>)</h3>

<p>When installing auto-cpufreq via <a href="#auto-cpufreq-installer">auto-cpufreq-installer</a>, if it detects the <a href="https://twitter.com/fooctrl/status/1467469508373884933">GNOME Power Profiles service</a> is running, it will automatically disable it. Otherwise, that daemon will cause conflicts and various other performance issues. </p>

<p>However, when auto-cpufreq is installed as a Snap package it's running as part of a container with limited permissions, hence it's <em>highly recommended</em> to disable the GNOME Power Profiles daemon using the <code>power_helper.py</code> script.</p>

<p><strong>Please Note:</strong><br>
The <a href="https://github.com/AdnanHodzic/auto-cpufreq/blob/master/auto_cpufreq/power_helper.py"><code>power_helper.py</code></a> script is located within the auto-cpufreq repo at <code>auto_cpufreq/power_helper.py</code>. In order to access it, first clone
the repository:</p>

<p><code>git clone https://github.com/AdnanHodzic/auto-cpufreq</code></p>

<p>Navigate to the directory where <code>power_helper.py</code> resides:</p>

<p><code>cd auto-cpufreq/auto_cpufreq</code></p>

<p>Make sure to have <code>psutil</code> Python library installed before next step:</p>

<p><code>sudo python3 -m pip install psutil</code></p>

<p>Then disable the GNOME Power Profiles daemon:</p>

<p><code>sudo python3 power_helper.py --gnome_power_disable</code></p>

<h3>2: <code>--force</code> governor override</h3>

<p>By default, auto-cpufreq uses <code>balanced</code> mode which works best for many systems and situations.</p>

<p>However, you can override this behaviour by switching to <code>performance</code> or <code>powersave</code> mode manually. The <code>performance</code> mode results in higher default frequencies, but also higher energy use (battery consumption) and should only be used if maximum performance is needed. The <code>powersave</code> mode does the opposite and extends battery life to its maximum.</p>

<p>See <a href="#overriding-governor"><code>--force</code> flag</a> for more info.</p>

<h3>3: auto-cpufreq config file</h3>

<p>You can configure separate profiles for the battery and power supply. These profiles will let you pick which governor to use, as well as how and when turbo boost is enabled. The possible values for turbo boost behavior are <code>always</code>, <code>auto</code>, and <code>never</code>. The default behavior is <code>auto</code>, which only activates turbo during high load.</p>

<p>By default, auto-cpufreq does not use a config file. If you wish to configure auto-cpufreq statically, we look for a configuration file in the following order:</p>

<ol>
<li>Commandline argument: <code>--config &lt;FILE&gt;</code> if passed as commandline argument to <code>auto-cpufreq</code></li>
<li>User-specific configuration: <code>$XDG_CONFIG_HOME/auto-cpufreq/auto-cpufreq.conf</code></li>
<li>System-wide configuration: <code>/etc/auto-cpufreq.conf</code></li>
</ol>

<h4>Example config file contents</h4>

<p>```python</p>

<h1>settings for when connected to a power source</h1>

<p>[charger]</p>

<h1>see available governors by running: cat /sys/devices/system/cpu/cpu0/cpufreq/scaling<em>available</em>governors</h1>

<h1>preferred governor</h1>

<p>governor = performance</p>

<h1>EPP: see available preferences by running: cat /sys/devices/system/cpu/cpu0/cpufreq/energy<em>performance</em>available_preferences</h1>

<p>energy<em>performance</em>preference = performance</p>

<h1>EPB (Energy Performance Bias) for the intel_pstate driver</h1>

<h1>see conversion info: https://www.kernel.org/doc/html/latest/admin-guide/pm/intel_epb.html</h1>

<h1>available EPB options include a numeric value between 0-15</h1>

<h1>(where 0 = maximum performance and 15 = maximum power saving),</h1>

<h1>or one of the following strings:</h1>

<h1>performance (0), balance<em>performance (4), default (6), balance</em>power (8), or power (15)</h1>

<h1>if the parameter is missing in the config and the hardware supports this setting, the default value will be used</h1>

<h1>the default value is <code>balance_performance</code> (for charger)</h1>

<h1>energy<em>perf</em>bias = balance_performance</h1>

<h1>Platform Profiles</h1>

<h1>https://www.kernel.org/doc/html/latest/userspace-api/sysfs-platform_profile.html</h1>

<h1>See available options by running:</h1>

<h1>cat /sys/firmware/acpi/platform<em>profile</em>choices</h1>

<h1>platform_profile = performance</h1>

<h1>minimum cpu frequency (in kHz)</h1>

<h1>example: for 800 MHz = 800000 kHz --> scaling<em>min</em>freq = 800000</h1>

<h1>see conversion info: https://www.rapidtables.com/convert/frequency/mhz-to-hz.html</h1>

<h1>to use this feature, uncomment the following line and set the value accordingly</h1>

<h1>scaling<em>min</em>freq = 800000</h1>

<h1>maximum cpu frequency (in kHz)</h1>

<h1>example: for 1GHz = 1000 MHz = 1000000 kHz -> scaling<em>max</em>freq = 1000000</h1>

<h1>see conversion info: https://www.rapidtables.com/convert/frequency/mhz-to-hz.html</h1>

<h1>to use this feature, uncomment the following line and set the value accordingly</h1>

<h1>scaling<em>max</em>freq = 1000000</h1>

<h1>turbo boost setting. possible values: always, auto, never</h1>

<p>turbo = auto</p>

<h1>settings for when using battery power</h1>

<p>[battery]</p>

<h1>see available governors by running: cat /sys/devices/system/cpu/cpu0/cpufreq/scaling<em>available</em>governors</h1>

<h1>preferred governor</h1>

<p>governor = powersave</p>

<h1>EPP: see available preferences by running: cat /sys/devices/system/cpu/cpu0/cpufreq/energy<em>performance</em>available_preferences</h1>

<p>energy<em>performance</em>preference = power</p>

<h1>EPB (Energy Performance Bias) for the intel_pstate driver</h1>

<h1>see conversion info: https://www.kernel.org/doc/html/latest/admin-guide/pm/intel_epb.html</h1>

<h1>available EPB options include a numeric value between 0-15</h1>

<h1>(where 0 = maximum performance and 15 = maximum power saving),</h1>

<h1>or one of the following strings:</h1>

<h1>performance (0), balance<em>performance (4), default (6), balance</em>power (8), or power (15)</h1>

<h1>if the parameter is missing in the config and the hardware supports this setting, the default value will be used</h1>

<h1>the default value is <code>balance_power</code> (for battery)</h1>

<h1>energy<em>perf</em>bias = balance_power</h1>

<h1>Platform Profiles</h1>

<h1>https://www.kernel.org/doc/html/latest/userspace-api/sysfs-platform_profile.html</h1>

<h1>See available options by running:</h1>

<h1>cat /sys/firmware/acpi/platform<em>profile</em>choices</h1>

<h1>platform_profile = low-power</h1>

<h1>minimum cpu frequency (in kHz)</h1>

<h1>example: for 800 MHz = 800000 kHz --> scaling<em>min</em>freq = 800000</h1>

<h1>see conversion info: https://www.rapidtables.com/convert/frequency/mhz-to-hz.html</h1>

<h1>to use this feature, uncomment the following line and set the value accordingly</h1>

<h1>scaling<em>min</em>freq = 800000</h1>

<h1>maximum cpu frequency (in kHz)</h1>

<h1>see conversion info: https://www.rapidtables.com/convert/frequency/mhz-to-hz.html</h1>

<h1>example: for 1GHz = 1000 MHz = 1000000 kHz -> scaling<em>max</em>freq = 1000000</h1>

<h1>to use this feature, uncomment the following line and set the value accordingly</h1>

<h1>scaling<em>max</em>freq = 1000000</h1>

<h1>turbo boost setting (always, auto, or never)</h1>

<p>turbo = auto</p>

<h1>battery charging threshold</h1>

<h1>reference: https://github.com/AdnanHodzic/auto-cpufreq/#battery-charging-thresholds</h1>

<h1>enable_thresholds = true</h1>

<h1>start_threshold = 20</h1>

<h1>stop_threshold = 80</h1>

<p>```</p>

<h2>How to run auto-cpufreq</h2>

<p>auto-cpufreq should be run with with one of the following options:</p>

<ul>
<li><p><a href="#monitor">monitor</a></p>

<ul>
<li>Monitor and see suggestions for CPU optimizations</li>
</ul></li>
<li><p><a href="#live">live</a></p>

<ul>
<li>Monitor and automatically make (temporary) CPU optimizations</li>
</ul></li>
<li><p><a href="#install---auto-cpufreq-daemon">install</a> / <a href="#remove---auto-cpufreq-daemon">remove</a></p>

<ul>
<li>Install/remove daemon for (permanent) automatic CPU optimizations</li>
</ul></li>
<li><p><a href="#install---auto-cpufreq-daemon">install (GUI)</a></p>

<ul>
<li>Install daemon via GUI for (permanent) automatic CPU optimizations</li>
</ul></li>
<li><p><a href="#update---auto-cpufreq-update">update</a></p>

<ul>
<li>Update auto-cpufreq to the latest release</li>
</ul></li>
<li><p><a href="#1-power_helperpy-script">install_performance</a></p>

<ul>
<li>Install daemon in "performance" mode</li>
</ul></li>
<li><p><a href="#stats">stats</a></p>

<ul>
<li>View live stats of CPU optimizations made by daemon</li>
</ul></li>
<li><p><a href="#overriding-governor">force=TEXT</a></p>

<ul>
<li>Force use of either the "powersave" or "performance" governor, or set to "reset" to go back to normal mode</li>
</ul></li>
<li><p>config=TEXT</p>

<ul>
<li>Use config file at designated path</li>
</ul></li>
<li><p>debug</p>

<ul>
<li>Show debug info (include when submitting bugs)</li>
</ul></li>
<li><p>version</p>

<ul>
<li>Show currently installed version</li>
</ul></li>
<li><p><a href="#financial-donation">donate</a></p>

<ul>
<li>To support the project</li>
</ul></li>
<li><p>help</p>

<ul>
<li>Shows all of the above options</li>
</ul></li>
<li><p>completions=TEXT</p>

<ul>
<li>To support shell completions (current options are "bash", "zsh", or "fish")</li>
</ul></li>
</ul>

<p>Running <code>auto-cpufreq --help</code> will print the same list of options as above. Read <a href="#auto-cpufreq-modes-and-options">auto-cpufreq modes and options</a> for more details.</p>

<h2>auto-cpufreq modes and options</h2>

<h3>Monitor</h3>

<p><code>sudo auto-cpufreq --monitor</code></p>

<p>No changes are made to the system. This is solely to demonstrate what auto-cpufreq could do for your system.</p>

<h3>Live</h3>

<p><code>sudo auto-cpufreq --live</code></p>

<p>Necessary changes are temporarily made to the system over time, but this process and its changes are lost at system reboot. This mode is provided to evaluate how the system would behave with auto-cpufreq permanently running on the system.</p>

<h3>Overriding governor</h3>

<p><code>sudo auto-cpufreq --force=governor</code></p>

<p>Force use of either the "powersave" or "performance" governor, or set to "reset" to go back to normal mode.
Please note that any set override will persist even after reboot.</p>

<h3>Install - auto-cpufreq daemon</h3>

<p>Necessary changes are made to the system over time and this process will continue across reboots. The daemon is deployed and started as a systemd service. Changes are made automatically and live stats are generated for monitoring purposes.</p>

<p><strong>Install the daemon using CLI (<a href="#installing-auto-cpufreq">after installing auto-cpufreq</a>):</strong></p>

<p>Installing the auto-cpufreq daemon using CLI is as simple as running the following command:</p>

<p><code>sudo auto-cpufreq --install</code></p>

<p>After the daemon is installed, <code>auto-cpufreq</code> is available as a binary and runs in the background. Its stats can be viewed by running: <code>auto-cpufreq --stats</code></p>

<p><em>Please note:</em> if the daemon is installed within a desktop environment, then its stats and options can be accessed via CLI or GUI. See "Install the daemon using GUI" below for more details.</p>

<p><strong>Install the daemon using GUI</strong></p>

<p>Starting with &gt;= v2.0 <a href="#installing-auto-cpufreq">after installing auto-cpufreq</a>, an auto-cpufreq desktop entry (icon) is available, i.e.:</p>

<p><img src="https://github.com/user-attachments/assets/f426d62b-00b0-4fa5-a72e-b352016ed448" width="640" alt="Example of auto-cpufreq desktop entry (icon)"/></p>

<p>After selecting it to open the GUI, the auto-cpufreq daemon can be installed by clicking the "Install" button:</p>

<p><img src="https://github.com/user-attachments/assets/5af47e5e-8b9e-4ff6-9ffc-e78acb623ce4" width="480" alt="The auto-cpufreq GUI's 'Install' button"/></p>

<p>After that, the full auto-cpufreq GUI is available:</p>

<p><img src="https://github.com/user-attachments/assets/9c7715c4-16b7-4a5c-86be-4c390276d9e8" width="640" alt="The full auto-cpufreq GUI"/></p>

<p><em>Please note:</em> after the daemon is installed (by any method), its stats and options are accessible via both CLI and GUI.</p>

<p><strong>auto-cpufreq daemon service</strong></p>

<p>Installing the auto-cpufreq daemon also enables the associated service (equivalent to <code>systemctl enable auto-cpufreq</code>), causing it to start on boot, and immediately starts it (equivalent to <code>systemctl start auto-cpufreq</code>).</p>

<p>Since the daemon is running as a systemd service, its status can be seen by running:</p>

<p><code>systemctl status auto-cpufreq</code></p>

<p>If installed via Snap package, daemon status can be viewed as follows:</p>

<p><code>systemctl status snap.auto-cpufreq.service.service</code></p>

<h3>Update - auto-cpufreq update</h3>

<p>Update functionality works by cloning the auto-cpufreq repo, installing it via <a href="#auto-cpufreq-installer">auto-cpufreq-installer</a>, and performing a fresh <a href="#install---auto-cpufreq-daemon">auto-cpufreq daemon install</a> to provide the <a href="https://github.com/AdnanHodzic/auto-cpufreq/releases">latest version's</a> changes.</p>

<p>Update auto-cpufreq by running: <code>sudo auto-cpufreq --update</code>. By default, the latest revision is cloned to <code>/opt/auto-cpufreq/source</code>, thus maintaining existing directory structure.</p>

<p>Update and clone to a custom directory by running: <code>sudo auto-cpufreq --update=/path/to/directory</code></p>

<h3>Remove - auto-cpufreq daemon</h3>

<p>The auto-cpufreq daemon, its systemd service, and all its persistent changes can be removed by running:</p>

<p><code>sudo auto-cpufreq --remove</code></p>

<p>This does, in part, the equivalent of <code>systemctl stop auto-cpufreq &amp;&amp; systemctl disable auto-cpufreq</code>, but the above command should be used instead of using <code>systemctl</code>.</p>

<p><em>Please note:</em> after the daemon is removed, the auto-cpufreq GUI and desktop entry (icon) are also removed.</p>

<h3>Stats</h3>

<p>If the daemon has been installed, live stats of CPU/system load monitoring and optimization can be seen by running:</p>

<p><code>auto-cpufreq --stats</code></p>

<h2>Battery charging thresholds</h2>

<p><strong><em>Please note:</strong> This feature is <strong>deprecated</strong>, as its <a href="https://github.com/AdnanHodzic/auto-cpufreq/pull/637">original implementor</a> is no longer actively working on it. If you would like to further improve this functionality, please refer to <a href="https://github.com/AdnanHodzic/auto-cpufreq/#looking-for-developers-and-co-maintainers">Looking for developers and co-maintainers</a>.</em></p>

<p>As of <a href="https://github.com/AdnanHodzic/auto-cpufreq/releases/tag/v2.2.0">v2.2.0</a>, battery charging thresholds can be set in the config file. This enforces your battery to start and stop charging at defined values</p>

<h3>Supported devices</h3>

<ul>
<li><strong>Lenovo ThinkPad</strong> (thinkpad_acpi)*</li>
<li><strong>Lenovo IdeaPad</strong> (ideapad_acpi)*</li>
</ul>

<p><strong>*Please note, your laptop must have an installed ACPI kernel driver specific to the manufacturer.</strong> To check if you have the correct module installed and loaded run <code>lsmod [module]</code></p>

<p><strong>To request that your device be supported, please open an <a href="https://github.com/AdnanHodzic/auto-cpufreq/issues/new">issue</a>. In your issue, make us aware of the driver that works with your laptop</strong></p>

<h3>Battery config</h3>

<p>Edit the config at <code>/etc/auto-cpufreq.conf</code></p>

<p>Example config for battery (<a href="https://github.com/AdnanHodzic/auto-cpufreq/#example-config-file-contents">already part of example config file</a>)
<code>
[battery]
enable_thresholds = true
start_threshold = 20
stop_threshold = 80
</code></p>

<h3>Lenovo_laptop conservation mode</h3>

<p>this works only with <code>lenovo_laptop</code> kernel module compatable laptops.  </p>

<p>add <code>ideapad_laptop_conservation_mode = true</code> to your <code>auto-cpufreq.conf</code> file</p>

<h3>Ignoring power supplies</h3>

<p>you may have a controler or headphones and when ever they may be on battery they might cause auto-cpufreq
to limit preformence to ignore them add to you config file the name of the power supply, under <code>[power_supply_ignore_list]</code></p>

<p>the name of the power supply can be found with  <code>ls /sys/class/power_supply/</code></p>

<p>```
[power<em>supply</em>ignore_list]</p>

<p>name1 = this
name2 = is 
name3 = an
name4 = example</p>

<h1>like this</h1>

<p>xboxctrl = {the xbox controler power supply name}</p>

<p>```</p>

<h2>Troubleshooting</h2>

<p><strong>Q:</strong> If after installing auto-cpufreq you're (still) experiencing:
- high CPU temperatures
- CPU not scaling to minimum/maximum frequencies
- suboptimal CPU performance
- turbo mode not available</p>

<p><strong>A:</strong> If you're using the <code>intel_pstate/amd-pstate</code> CPU management driver, consider changing it to <code>acpi-cpufreq</code>.</p>

<p>This can be done by editing the <code>GRUB_CMDLINE_LINUX_DEFAULT</code> params in <code>/etc/default/grub</code>. For instance:</p>

<p><code>
    sudo nano /etc/default/grub
    # make sure you have nano installed, or you can use your favorite text editor
</code></p>

<p>For Intel users:</p>

<p><code>
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash intel_pstate=disable"
</code></p>

<p>For AMD users:</p>

<p><code>
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash initcall_blacklist=amd_pstate_init amd_pstate.enable=0"
</code></p>

<p>Once you have made the necessary changes to the GRUB configuration file, you can update GRUB by running <code>sudo update-grub</code> on Debian/Ubuntu, <code>sudo grub-mkconfig -o /boot/grub/grub.cfg</code> on Arch Linux, or one of the following on Fedora:</p>

<p><code>
    sudo grub2-mkconfig -o /etc/grub2.cfg
</code></p>

<p><code>
    sudo grub2-mkconfig -o /etc/grub2-efi.cfg
</code></p>

<p><code>
    sudo grub2-mkconfig -o /boot/grub2/grub.cfg
    # legacy boot method
</code></p>

<p>For systemd-boot users:</p>

<p><code>
    sudo nano /etc/kernel/cmdline
    # make sure you have nano installed, or you can use your favorite text editor
</code></p>

<p>For Intel users:</p>

<p><code>
quiet splash intel_pstate=disable
</code></p>

<p>For AMD users:</p>

<p><code>
quiet splash initcall_blacklist=amd_pstate_init amd_pstate.enable=0
</code></p>

<p>Once you have made the necessary changes to the <code>cmdline</code> file, you can update it by running <code>sudo reinstall-kernels</code>.</p>

<h3>AUR</h3>

<ul>
<li>If the AUR installer does not work for your system, fallback to <code>auto-cpufreq-installer</code> and open an issue. </li>
</ul>

<h2>Discussion:</h2>

<ul>
<li>Blogpost: <a href="http://foolcontrol.org/?p=3124">auto-cpufreq - Automatic CPU speed &amp; power optimizer for Linux</a></li>
</ul>

<h2>Donate</h2>

<p>Showing your support and appreciation for the auto-cpufreq project can be done in two ways:</p>

<ul>
<li>Financial donation</li>
<li>Code contribution</li>
</ul>

<h3>Financial donation</h3>

<p>If auto-cpufreq helped you out and you find it useful, show your appreciation by donating (any amount) to the project!</p>

<h5>Become Github Sponsor</h5>

<p><a href="https://github.com/sponsors/AdnanHodzic">Become a sponsor to Adnan Hodzic on Github</a> to acknowledge my efforts and help project's further open source development.</p>

<h5>PayPal</h5>

<p><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=7AHCP5PU95S4Y&item_name=Contribution+for+work+on+auto-cpufreq&currency_code=EUR&source=url"><img src="https://www.paypalobjects.com/en_US/NL/i/btn/btn_donateCC_LG.gif" alt="paypal" /></a></p>

<h5>BitCoin</h5>

<p><a href="bitcoin:bc1qlncmgdjyqy8pe4gad4k2s6xtyr8f2r3ehrnl87">bc1qlncmgdjyqy8pe4gad4k2s6xtyr8f2r3ehrnl87</a></p>

<p><a href="bitcoin:bc1qlncmgdjyqy8pe4gad4k2s6xtyr8f2r3ehrnl87"><img src="https://foolcontrol.org/wp-content/uploads/2019/08/btc-donate-displaylink-debian.png" alt="bitcoin" /></a></p>

<h3>Code contribution</h3>

<p>Other ways of supporting the project consist of making a code or documentation contribution. If you have an idea for a new feature or you want to implement some of the existing feature requests or fix some of the <a href="https://github.com/AdnanHodzic/auto-cpufreq/issues">bugs &amp; issues</a>, please make your changes and submit a <a href="https://github.com/AdnanHodzic/auto-cpufreq/pulls">pull request</a>. I'll be glad to review it and, if your changes are accepted, you'll be credited on the <a href="https://github.com/AdnanHodzic/auto-cpufreq/releases">releases page</a>.</p>

<p><strong>Please note: auto-cpufreq is looking for co-maintainers &amp; open source developers to <a href="https://github.com/AdnanHodzic/auto-cpufreq/discussions/312">help shape the future of the project!</a></strong></p>
